<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="dist/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="dist/bootstrap/css/bootstrap-slider.min.css">
<script type="text/javascript" src="js/jquery.min.js"></script>
</head>
<body>

<div class="slider slider-horizontal" style="margin-left:100px;margin-top:100px;">
	<div class="slider-track">
		<div class="slider-selection" style="left: 0%; width: 64%;"></div>
		<div class="slider-handle min-slider-handle round" tabindex="0" style="left: 64%;"></div>
		<div class="slider-handle max-slider-handle round hide" tabindex="0" style="left: 0%;"></div>
	</div>
	<div class="tooltip tooltip-main top" style="left: 64%; margin-left: -55px;">
		<div class="tooltip-arrow"></div>
		<div class="tooltip-inner">Current value: 11</div>
	</div>
	<input type="hidden" name="num" value="" data-slider-min="0" data-slider-max="20" data-slider-step="1" data-slider-value="14">
</div>

<script type="text/javascript">
	$(function(){
		$(".min-slider-handle").mousedown(function(ev){
			var _this = $(this);
			var selection = _this.prev();
			var toolMain = _this.parent().next();
			var input = _this.parent().parent().find("input");
			var inputMin = parseInt(input.attr("data-slider-min"));
			var inputMax = parseInt(input.attr("data-slider-max"));
			var inputStep = parseInt(input.attr("data-slider-step"));
			var inputValue = parseInt(input.attr("data-slider-value"));
			var inputLength = inputMax - inputMin;
			var m_old_left = ev.pageX;
			var box_old_left = _this.position().left;
			document.onmousemove = function(ev){
				var m_new_left = ev.pageX;
				var xdiff = m_new_left - m_old_left;
				var box_new_left = box_old_left + xdiff;
				var max_left = 200;
				if(box_new_left<0){
					box_new_left=0;
				}
				if(box_new_left>max_left){
					box_new_left = max_left;
				}
				var inputX = (inputLength*box_new_left)/max_left;
				var val = Math.round(inputX / inputStep);

				_this.css({"left":(box_new_left/max_left)*100+'%'});
				selection.css({"width":(box_new_left/max_left)*100+'%'});
				toolMain.css({"left":(box_new_left/max_left)*100+'%'});
				input.val(val);
			};
			document.onmouseup = function(){
				document.onmousemove = null;
			}
		})
	})
</script>
</body>
</html>